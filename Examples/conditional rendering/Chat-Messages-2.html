<!DOCTYPE html>
<html>
<head>
  <style>
    .item { 
      padding: 15px; 
      margin: 5px; 
      border-radius: 8px;
      transition: all 0.3s;
    }
  </style>
</head>
<body>
  <div class="item">Header</div>
  <div class="item">Item 1</div>
  <div class="item">Item 2</div>
  <div class="item">Footer</div>

  <button onclick="setMode('normal')">Normal</button>
  <button onclick="setMode('alert')">Alert</button>

  <!-- Include standalone file -->
  <script src="../../src/Core/01_dom-helpers.js"></script>
  <script src="../../src/Core/02_dh-bulk-property-updaters.js"></script>
  <script src="../../src/Core/03_dh-collection-shortcuts.js"></script>
  <script src="../../src/Core/04_dh-global-query.js"></script>
  <script src="../../src/Core/05_dh-indexed-collection-updates.js"></script>
  <script src="../../src/Core/06_dh-index-selection.js"></script>
  <script src="../../src/Core/07_dh-global-collection-indexed-updates.js"></script>
  <script src="../../src/Core/08_dh-bulk-properties-updater-global-query.js"></script>
  <script src="../../src/Core/09_dh-selector-update-patch.js"></script>
  <script src="../../src/Core/10a_dh-conditional-rendering.js"></script>
  <script src="../../src/Core/10b_dh-conditions-default.js"></script>
  <script src="../../src/Core/10c_dh-conditions-collection-extension.js"></script> 
  <script src="../../src/Core/10d_dh-conditions-apply-index-support.js"></script> 
  
  <script>
    function setMode(mode) {
      Conditions.apply(
        mode,
        {
          'normal': {
            // Shared for all
            style: { 
              background: '#e8f5e9',
              border: '2px solid #4caf50'
            },
            
            // First item (header)
            0: {
              style: {
                background: '#4caf50',
                color: 'white',
                fontSize: '24px',
                fontWeight: 'bold'
              },
              textContent: '✅ System Normal'
            },
            
            // Last item (footer)
            '-1': {
              style: {
                background: '#c8e6c9',
                fontStyle: 'italic'
              },
              textContent: 'All systems operational'
            }
          },
          
          'alert': {
            // Shared
            style: { 
              background: '#fff3e0',
              border: '3px solid #ff9800'
            },
            
            // Header
            0: {
              style: {
                background: '#ff9800',
                color: 'white',
                fontSize: '24px'
              },
              textContent: '⚠️ Alert Mode'
            },
            
            // Middle items get pulse
            1: {
              style: {
                animation: 'pulse 1s infinite'
              }
            },
            2: {
              style: {
                animation: 'pulse 1s infinite'
              }
            },
            
            // Footer
            '-1': {
              style: {
                background: '#ffcc80'
              },
              textContent: '⚡ Action required'
            }
          }
        },
        '.item'
      );
    }
    
    // Set initial
    setMode('normal');
  </script>
</body>
</html>