<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bulk Element Creation - Test</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f5f5f5;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .section {
      margin-bottom: 30px;
      padding: 20px;
      border: 2px solid #e0e0e0;
      border-radius: 5px;
    }

    .section h2 {
      margin-bottom: 15px;
      color: #333;
    }

    button {
      padding: 10px 20px;
      margin: 5px;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }

    button:hover {
      background: #0056b3;
    }

    button.danger {
      background: #dc3545;
    }

    button.danger:hover {
      background: #c82333;
    }
  </style>
</head>
<body>

  <div class="container">
    <h1>Bulk Element Creation Examples</h1>
    <p>Testing createElement.bulk() feature from dom-helpers.js</p>
    <br>

    <!-- Example containers -->
    <div id="example1" class="section">
      <h2>Example 1: Basic Usage</h2>
    </div>

    <div id="example2" class="section">
      <h2>Example 2: Append to Different Places</h2>
      <div id="container1" style="padding: 10px; background: #e3f2fd; margin: 5px;"></div>
      <div id="container2" style="padding: 10px; background: #fff3e0; margin: 5px;"></div>
      <div id="container3" style="padding: 10px; background: #f3e5f5; margin: 5px;"></div>
    </div>

    <div id="example3" class="section">
      <h2>Example 3: Create a Form</h2>
    </div>

    <div id="example4" class="section">
      <h2>Example 4: Custom Order</h2>
    </div>

    <div id="example5" class="section">
      <h2>Example 5: Multiple Instances</h2>
    </div>
  </div>

  <!-- Load the DOM helpers library -->
  <script src="../../src/dom-helpers.js"></script>

  <script>
    // ===== EXAMPLES USING createElement.bulk() =====

    // Example 1: Basic Usage - Append all to same place
    document.querySelector('#example1 h2').insertAdjacentHTML('afterend', 
      '<button onclick="runExample1()">Run Example 1</button>'
    );

    function runExample1() {
      const elements = createElement.bulk({
        P: {
          textContent: 'This paragraph was dynamically created using JavaScript.',
          style: {
            color: 'green',
            fontSize: '18px',
            marginBottom: '10px'
          }
        },
        H1: {
          textContent: 'Welcome to My Page',
          style: {
            color: 'green',
            fontSize: '24px',
            marginBottom: '10px'
          }
        },
        DIV: {
          textContent: 'I am a container div.',
          style: {
            backgroundColor: '#f0f0f0',
            padding: '10px',
            border: '1px solid #ccc',
            borderRadius: '4px'
          }
        }
      });

      // Clear previous content
      const container = document.getElementById('example1');
      const content = container.querySelector('.content');
      if (content) content.remove();

      const contentDiv = document.createElement('div');
      contentDiv.className = 'content';
      
      // Append using spread operator
      contentDiv.append(...elements.all);

      container.appendChild(contentDiv);
    }

    // Example 2: Append to Different Places
    document.querySelector('#example2 h2').insertAdjacentHTML('afterend', 
      '<button onclick="runExample2()">Run Example 2</button>'
    );

    function runExample2() {
      const elements = createElement.bulk({
        P: {
          textContent: 'Paragraph in Container 1',
          style: { color: '#1976d2', fontWeight: 'bold' }
        },
        H1: {
          textContent: 'Heading in Container 2',
          style: { color: '#f57c00', fontSize: '20px' }
        },
        DIV: {
          textContent: 'Div in Container 3',
          style: { color: '#7b1fa2', fontStyle: 'italic' }
        }
      });

      // Clear containers
      document.getElementById('container1').innerHTML = '';
      document.getElementById('container2').innerHTML = '';
      document.getElementById('container3').innerHTML = '';

      // Append to different places using native appendChild
      document.getElementById('container1').appendChild(elements.P);
      document.getElementById('container2').appendChild(elements.H1);
      document.getElementById('container3').appendChild(elements.DIV);
    }

    // Example 3: Create a Form
    document.querySelector('#example3 h2').insertAdjacentHTML('afterend', 
      '<button onclick="runExample3()">Run Example 3</button>'
    );

    function runExample3() {
      const formElements = createElement.bulk({
        FORM: {
          id: 'contactForm',
          style: { marginTop: '15px' }
        },
        LABEL_EMAIL: {
          textContent: 'Email:',
          setAttribute: { for: 'email' },
          style: { display: 'block', marginTop: '10px', fontWeight: 'bold' }
        },
        INPUT_EMAIL: {
          id: 'email',
          type: 'email',
          placeholder: 'Enter your email',
          required: true,
          style: { 
            display: 'block', 
            padding: '8px', 
            marginTop: '5px',
            marginBottom: '10px',
            width: '100%',
            maxWidth: '400px',
            border: '1px solid #ccc',
            borderRadius: '4px'
          }
        },
        LABEL_MESSAGE: {
          textContent: 'Message:',
          setAttribute: { for: 'message' },
          style: { display: 'block', marginTop: '10px', fontWeight: 'bold' }
        },
        TEXTAREA: {
          id: 'message',
          rows: 4,
          placeholder: 'Your message',
          style: { 
            display: 'block',
            padding: '8px',
            marginTop: '5px',
            marginBottom: '10px',
            width: '100%',
            maxWidth: '400px',
            border: '1px solid #ccc',
            borderRadius: '4px',
            fontFamily: 'Arial, sans-serif'
          }
        },
        BUTTON: {
          textContent: 'Submit',
          type: 'submit',
          style: {
            padding: '10px 20px',
            background: '#28a745',
            color: 'white',
            border: 'none',
            borderRadius: '4px',
            cursor: 'pointer'
          }
        }
      });

      // Build form using native append
      formElements.FORM.append(
        formElements.LABEL_EMAIL,
        formElements.INPUT_EMAIL,
        formElements.LABEL_MESSAGE,
        formElements.TEXTAREA,
        formElements.BUTTON
      );

      // Clear and append to container
      const container = document.getElementById('example3');
      const existingForm = container.querySelector('#contactForm');
      if (existingForm) existingForm.remove();

      container.appendChild(formElements.FORM);

      // Handle form submission
      formElements.FORM.addEventListener('submit', (e) => {
        e.preventDefault();
        alert('Form submitted! Email: ' + formElements.INPUT_EMAIL.value);
      });
    }

    // Example 4: Custom Order
    document.querySelector('#example4 h2').insertAdjacentHTML('afterend', 
      '<button onclick="runExample4()">Run Example 4 (Reverse Order)</button>'
    );

    function runExample4() {
      const elements = createElement.bulk({
        P1: { 
          textContent: 'First Element (P1)', 
          style: { padding: '10px', background: '#ffebee', margin: '5px' }
        },
        P2: { 
          textContent: 'Second Element (P2)', 
          style: { padding: '10px', background: '#e3f2fd', margin: '5px' }
        },
        P3: { 
          textContent: 'Third Element (P3)', 
          style: { padding: '10px', background: '#e8f5e9', margin: '5px' }
        }
      });

      const container = document.getElementById('example4');
      const content = container.querySelector('.content');
      if (content) content.remove();

      const contentDiv = document.createElement('div');
      contentDiv.className = 'content';

      // Append in reverse order using ordered()
      contentDiv.append(...elements.ordered('P3', 'P2', 'P1'));

      container.appendChild(contentDiv);
    }

    // Example 5: Multiple Instances
    document.querySelector('#example5 h2').insertAdjacentHTML('afterend', 
      '<button onclick="runExample5()">Run Example 5 (5 Cards)</button>' +
      '<button class="danger" onclick="clearExample5()">Clear Cards</button>'
    );

    function runExample5() {
      const cards = createElement.bulk({
        DIV_1: {
          className: 'card',
          textContent: 'Card 1',
          style: { 
            backgroundColor: '#fff3e0', 
            padding: '20px', 
            margin: '10px 0',
            borderRadius: '5px',
            border: '2px solid #ff9800'
          }
        },
        DIV_2: {
          className: 'card',
          textContent: 'Card 2',
          style: { 
            backgroundColor: '#e3f2fd', 
            padding: '20px', 
            margin: '10px 0',
            borderRadius: '5px',
            border: '2px solid #2196f3'
          }
        },
        DIV_3: {
          className: 'card',
          textContent: 'Card 3',
          style: { 
            backgroundColor: '#f3e5f5', 
            padding: '20px', 
            margin: '10px 0',
            borderRadius: '5px',
            border: '2px solid #9c27b0'
          }
        },
        DIV_4: {
          className: 'card',
          textContent: 'Card 4',
          style: { 
            backgroundColor: '#e8f5e9', 
            padding: '20px', 
            margin: '10px 0',
            borderRadius: '5px',
            border: '2px solid #4caf50'
          }
        },
        DIV_5: {
          className: 'card',
          textContent: 'Card 5',
          style: { 
            backgroundColor: '#ffebee', 
            padding: '20px', 
            margin: '10px 0',
            borderRadius: '5px',
            border: '2px solid #f44336'
          }
        }
      });

      const container = document.getElementById('example5');
      
      // Use native append with spread operator
      container.append(...cards.all);
    }

    function clearExample5() {
      const container = document.getElementById('example5');
      const cards = container.querySelectorAll('.card');
      cards.forEach(card => card.remove());
    }

    // Run Example 1 on page load
    window.addEventListener('DOMContentLoaded', () => {
      runExample1();
    });
  </script>

</body>
</html>
